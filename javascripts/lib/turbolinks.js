(function(){var t,e,n,o,r,i,u,a,c,l,d,s,f,p,h,m,v,g,w,y,b,x,E,k,T,A,L,S,H,M,R,C,N,O,X,q,D,j,P,K,$,G,Q,Y,F,z,B,I,J,U,_,V,W,Z,tt,et={}.hasOwnProperty,nt=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},ot=[].slice;O={},l=10,h=null,M=null,E=["html"],$=null,f=null,tt=null,y=function(t){return z(),c(),W("page:fetch",{url:t}),null!=tt&&tt.abort(),tt=new XMLHttpRequest,tt.open("GET",I(t),!0),tt.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),tt.setRequestHeader("X-XHR-Referer",$),tt.onload=function(){var e;return W("page:receive"),(e=j())?(G(t),d.apply(null,g(e)),Q(),_(),W("page:load")):document.location.href=t},tt.onloadend=function(){return tt=null},tt.onabort=function(){return F()},tt.onerror=function(){return document.location.href=t},tt.send()},w=function(t){return c(),null!=tt&&tt.abort(),d(t.title,t.body),P(t),W("page:restore")},c=function(){return O[h.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},s(l)},q=function(t){return null==t&&(t=l),/^[\d]+$/.test(t)?l=parseInt(t):void 0},s=function(t){var e,n;for(e in O)et.call(O,e)&&(n=O[e],e<=h.position-t&&(W("page:expire",O[e]),O[e]=null))},d=function(e,n,o,r){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=o&&t.update(o),r&&m(),h=window.history.state,W("page:change"),W("page:update")},m=function(){var t,e,n,o,r,i,u,a,c,l,d,s;for(s=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,r=s.length;r>n;n++)if(d=s[n],""===(c=d.type)||"text/javascript"===c){for(e=document.createElement("script"),l=d.attributes,o=0,i=l.length;i>o;o++)t=l[o],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(d.innerHTML)),a=d.parentNode,u=d.nextSibling,a.removeChild(d),a.insertBefore(e,u)}},J=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},G=function(t){return t!==$?window.history.pushState({turbolinks:!0,position:h.position+1},"",t):void 0},Q=function(){var t,e;return(t=tt.getResponseHeader("X-XHR-Redirected-To"))?(e=B(t)===t?document.location.hash:"",window.history.replaceState(h,"",t+e)):void 0},z=function(){return $=document.location.href},F=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},Y=function(){return h=window.history.state},P=function(t){return window.scrollTo(t.positionX,t.positionY)},_=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},I=function(t){return B(t)},B=function(t){var e;return e=t,null==t.href&&(e=document.createElement("A"),e.href=t),e.href.replace(e.hash,"")},D=function(t){var e,n;return n=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},W=function(t,e){var n;return n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},X=function(){return!W("page:before-change")},j=function(){var t,e,n,o,r,i;return e=function(){var t;return 400<=(t=tt.status)&&600>t},i=function(){return tt.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},o=function(t){var e,n,o,r,i;for(r=t.head.childNodes,i=[],e=0,n=r.length;n>e;e++)o=r[e],null!=("function"==typeof o.getAttribute?o.getAttribute("data-turbolinks-track"):void 0)&&i.push(o.getAttribute("src")||o.getAttribute("href"));return i},t=function(t){var e;return M||(M=o(document)),e=o(t),e.length!==M.length||r(e,M).length!==M.length},r=function(t,e){var n,o,r,i,u;for(t.length>e.length&&(r=[e,t],t=r[0],e=r[1]),i=[],n=0,o=t.length;o>n;n++)u=t[n],nt.call(e,u)>=0&&i.push(u);return i},!e()&&i()&&(n=f(tt.responseText),n&&!t(n))?n:void 0},g=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,J(e.body),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},o=function(){var t,e,n,o,r,i,u;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return u=e("<html><body><p>test"),e}catch(r){return o=r,u=t("<html><body><p>test"),t}finally{if(1!==(null!=u&&null!=(i=u.body)?i.childNodes.length:void 0))return n}},A=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",b,!1),document.addEventListener("click",b,!1))},b=function(t){var e;return t.defaultPrevented||(e=v(t),"A"!==e.nodeName||k(t,e))?void 0:(X()||Z(e.href),t.preventDefault())},v=function(t){var e;for(e=t.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return e},p=function(t){return location.protocol!==t.protocol||location.host!==t.host},n=function(t){return(t.hash&&B(t))===B(location)||t.href===location.href+"#"},C=function(t){var e;return e=B(t),e.match(/\.[a-z]+(\?.*)?$/g)&&!e.match(new RegExp("\\.(?:"+E.join("|")+")?(\\?.*)?$","g"))},R=function(t){for(var e;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},V=function(t){return 0!==t.target.length},N=function(t){return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},k=function(t,e){return p(e)||n(e)||C(e)||R(e)||V(e)||N(t)},e=function(){var t,e,n,o;for(e=1<=arguments.length?ot.call(arguments,0):[],n=0,o=e.length;o>n;n++)t=e[n],E.push(t);return E},L=function(){return document.addEventListener("DOMContentLoaded",function(){return W("page:change"),W("page:update")},!0)},H=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e,n){return jQuery.trim(e.responseText)?W("page:update"):void 0}):void 0},S=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=O[t.state.position])?w(e):Z(t.target.location.href):void 0},T=function(){return F(),Y(),f=o(),document.addEventListener("click",A,!0),window.addEventListener("popstate",S,!1)},x=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/26/),u=window.history&&window.history.pushState&&window.history.replaceState&&x,r=!navigator.userAgent.match(/CriOS\//),U="GET"===(K=D("request_method"))||""===K,a=u&&r&&U,i=document.addEventListener&&document.createEvent,i&&(L(),H()),a?(Z=y,T()):Z=function(t){return document.location.href=t},this.Turbolinks={visit:Z,pagesCached:q,allowLinkExtensions:e,supported:a}}).call(this);